{"ast":null,"code":"import { Employee } from '../employee';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../employee.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction CreateEmployeeComponent_img_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 10);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction CreateEmployeeComponent_video_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"video\", 11);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r1.url, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction CreateEmployeeComponent_audio_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"audio\", 11);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r2.url, i0.ɵɵsanitizeUrl);\n  }\n}\nexport class CreateEmployeeComponent {\n  constructor(employeeService, router) {\n    this.employeeService = employeeService;\n    this.router = router;\n    this.employee = new Employee();\n  }\n  ngOnInit() {}\n  saveEmployee() {\n    this.employeeService.createEmployee(this.employee).subscribe({\n      next: data => {\n        console.log(data);\n      },\n      error: err => {\n        console.log(err);\n      },\n      complete: () => {\n        console.log('complete');\n        this.goToEmployeeList();\n      }\n    });\n  }\n  goToEmployeeList() {\n    this.router.navigate(['/employees']);\n  }\n  onSelectFile(event) {\n    const file = event.target.files && event.target.files[0];\n    if (file) {\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n      if (file.type.indexOf('image') > -1) {\n        this.format = 'image';\n      } else if (file.type.indexOf('video') > -1) {\n        this.format = 'video';\n      } else if (file.type.indexOf('audio') > -1) {\n        this.format = 'audio';\n      } else if (file.type.indexOf('pdf') > -1) {\n        this.format = 'pdf';\n      }\n      reader.onload = event => {\n        this.url = event.target.result;\n      };\n    }\n  }\n  onSubmit() {\n    console.log(this.employee);\n    this.saveEmployee();\n  }\n}\nCreateEmployeeComponent.ɵfac = function CreateEmployeeComponent_Factory(t) {\n  return new (t || CreateEmployeeComponent)(i0.ɵɵdirectiveInject(i1.EmployeeService), i0.ɵɵdirectiveInject(i2.Router));\n};\nCreateEmployeeComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CreateEmployeeComponent,\n  selectors: [[\"app-create-employee\"]],\n  decls: 26,\n  vars: 7,\n  consts: [[1, \"col-md-6\", \"offset-md-3\"], [3, \"ngSubmit\"], [1, \"form-group\"], [\"type\", \"text\", \"id\", \"firstName\", \"name\", \"firstName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"lastName\", \"name\", \"lastName\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"emailId\", \"name\", \"emailId\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"height\", \"200\", 3, \"src\", 4, \"ngIf\"], [\"height\", \"200\", \"controls\", \"\", 3, \"src\", 4, \"ngIf\"], [\"type\", \"file\", \"name\", \"fileName\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", \"mt-3\"], [\"height\", \"200\", 3, \"src\"], [\"height\", \"200\", \"controls\", \"\", 3, \"src\"]],\n  template: function CreateEmployeeComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\");\n      i0.ɵɵtext(2, \"Create Employee\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function CreateEmployeeComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"label\");\n      i0.ɵɵtext(6, \"First Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function CreateEmployeeComponent_Template_input_ngModelChange_7_listener($event) {\n        return ctx.employee.firstName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 2)(9, \"label\");\n      i0.ɵɵtext(10, \"Last Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function CreateEmployeeComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.employee.lastName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 2)(13, \"label\");\n      i0.ɵɵtext(14, \"Email Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function CreateEmployeeComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.employee.emailId = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 2)(17, \"label\");\n      i0.ɵɵtext(18, \"Upload File\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(19, CreateEmployeeComponent_img_19_Template, 1, 1, \"img\", 6);\n      i0.ɵɵelement(20, \"br\");\n      i0.ɵɵtemplate(21, CreateEmployeeComponent_video_21_Template, 1, 1, \"video\", 7);\n      i0.ɵɵtemplate(22, CreateEmployeeComponent_audio_22_Template, 1, 1, \"audio\", 7);\n      i0.ɵɵelementStart(23, \"input\", 8);\n      i0.ɵɵlistener(\"change\", function CreateEmployeeComponent_Template_input_change_23_listener($event) {\n        return ctx.onSelectFile($event);\n      })(\"ngModelChange\", function CreateEmployeeComponent_Template_input_ngModelChange_23_listener($event) {\n        return ctx.employee.fileName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"button\", 9);\n      i0.ɵɵtext(25, \"Submit\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.firstName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.lastName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.emailId);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.format === \"image\" && ctx.url);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.format === \"video\" && ctx.url);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.format === \"audio\" && ctx.url);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngModel\", ctx.employee.fileName);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["Employee","i0","CreateEmployeeComponent","constructor","employeeService","router","ngOnInit","saveEmployee","createEmployee","employee","subscribe","next","data","console","log","error","err","complete","goToEmployeeList","navigate","onSelectFile","event","file","target","files","reader","FileReader","readAsDataURL","type","indexOf","format","onload","url","result","onSubmit","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/devops/Downloads/frontend/src/app/create-employee/create-employee.component.ts","/home/devops/Downloads/frontend/src/app/create-employee/create-employee.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Employee } from '../employee';\nimport { OnInit } from '@angular/core';\nimport { EmployeeService } from '../employee.service';\nimport { Router } from '@angular/router';\n\n\n\n@Component({\n  selector: 'app-create-employee',\n  templateUrl: './create-employee.component.html',\n  styleUrls: ['./create-employee.component.css']\n})\nexport class CreateEmployeeComponent implements OnInit{\n\n  url: string | ArrayBuffer | null | undefined;\n  format: string | undefined;\n\n  employee: Employee = new Employee();\n\n  constructor(private employeeService: EmployeeService,\n    private router: Router) {}\n\n  ngOnInit(): void {\n  }\n\n  saveEmployee(){\n    this.employeeService.createEmployee(this.employee).subscribe({\n      next: (data: any) => {\n      console.log(data);\n      },\n      error: (err: any) => {\n      console.log(err);\n      },\n      complete: () => {\n      console.log('complete');\n      this.goToEmployeeList();\n      }\n      }); \n    \n  }\n\n  goToEmployeeList(){\n    this.router.navigate(['/employees']);\n\n  }\n\n\n  onSelectFile(event: { target: { files: any[]; }; }) {\n    const file = event.target.files && event.target.files[0];\n    if (file) {\n      var reader = new FileReader();\n      reader.readAsDataURL(file);\n      if(file.type.indexOf('image')> -1){\n        this.format = 'image';\n      } else if(file.type.indexOf('video')> -1){\n        this.format = 'video';\n      }\n      else if(file.type.indexOf('audio')> -1){\n        this.format = 'audio';\n      }\n      else if(file.type.indexOf('pdf')> -1){\n        this.format = 'pdf';\n      }\n      reader.onload = (event) => {\n        this.url = (<FileReader>event.target).result;\n      }\n    }\n  }\n\n  onSubmit(){\n\n    console.log(this.employee);\n    this.saveEmployee();\n  }\n}\n","<div class=\"col-md-6 offset-md-3\">\n<h3>Create Employee</h3>\n<form (ngSubmit)= \"onSubmit()\">\n\n    <div class = \"form-group\">\n\n        <label>First Name</label>\n        <input type=\"text\" class=\"form-control\" id=\"firstName\"\n        [(ngModel)] = \"employee.firstName\" name = \"firstName\">\n    </div>\n\n    <div class = \"form-group\">\n\n        <label>Last Name</label>\n        <input type=\"text\" class=\"form-control\" id=\"lastName\"\n            [(ngModel)] = \"employee.lastName\" name = \"lastName\">\n    </div>\n\n    <div class = \"form-group\">\n\n        <label>Email Id</label>\n        <input type=\"text\" class=\"form-control\" id=\"emailId\"\n        [(ngModel)] = \"employee.emailId\" name = \"emailId\">\n    </div>\n\n\n    <div class=\"form-group\">\n        <label>Upload File</label>\n        <img [src]=\"url\" *ngIf=\"format==='image' && url\" height=\"200\"> <br/>\n        <video [src]=\"url\" *ngIf=\"format==='video' && url\" height=\"200\" controls></video> \n        <audio [src]=\"url\" *ngIf=\"format==='audio' && url\" height=\"200\" controls></audio> \n        <input type='file' (change)=\"onSelectFile($any($event))\" \n        [(ngModel)]= \"employee.fileName\" name= \"fileName\">\n    </div>\n\n    <button class= \"btn btn-success mt-3\" type=\"submit\">Submit</button>\n    \n</form>\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}